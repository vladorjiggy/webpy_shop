{% extends 'home.html' %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="{% static 'css/home-styles.css' %}"><link rel="stylesheet" type="text/css" href="{% static 'css/review-styles.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.2/umd/popper.min.js"
    integrity="sha512-2rNj2KJ+D8s1ceNasTIex6z4HWyOnEYLVC3FigGOmyQCZc2eBXKgOxQmo3oKLHyfcj53uz4QMsRCWNbLd32Q1g=="
    crossorigin="anonymous" referrerpolicy="no-referrer" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.1/js/bootstrap.bundle.min.js"
    integrity="sha512-mULnawDVcCnsk9a4aG1QLZZ6rcce/jSzEGqUkeOLy0b6q0+T6syHrxlsAGH7ZVoqC93Pd0lBqd6WguPWih7VHA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'css/review-styles.css' %}">
{% endblock %}

{% block title %}Review details{% endblock %}

{% block content %}

<div class="modal fade" id="DeleteModal" tabindex="-1" role="dialog" aria-labelledby="DeleteModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="DeleteModalLabel">Review Löschen</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">

                <form onSubmit="deleteReview(event, this)">
                    <input type="hidden" name="variable" value="{{ that_one_Review.id }}" class="review_id">
                    {% csrf_token %}
                    <p>Bist du dir sicher dass du diese Bewertung löschen möchtest?</p>
                    <button type="submit" class="btn btn-danger btn-block">Löschen</button>
                </form>
            </div>
        </div>
    </div>
</div>





<div id="detail">

    <div class="review_back">
        <a href="{% url 'reviews_product' product_reviewed_id %}">
            <button type="button" class="btn btn-transparent">
                <i style="color: black; font-size: 30px;" class="fa fa-arrow-left"></i>
            </button>
        </a>
    </div>
    <h2>Produktdetails</h2>

    <table class="table">
    <tr>
        <td><b>Title:</b></td>
        <td>{{ that_one_Review.title }}<br></td>
    </tr>
    <tr>
        <td><b>Rating:</b></td>
        <td>{{ that_one_Review.get_rating_display }}<br></td>
    </tr>
    <tr>
        <td><b>Text:</b></td>
        <td>{{ that_one_Review.text }}<br></td>
    </tr>
    <tr>
        <td><b>Produkt:</b></td>
        <td>{{ that_one_Review.product_reviewed.name }}<br></td>
    </tr>
    <tr>
        <td><b>User:</b></td>
        <td>{{ that_one_Review.user.username }}<br></td>
    </tr>
    <tr>
        <td><b>Bewertung geschrieben am:</b></td>
        <td>{{ that_one_Review.timestamp }}<br></td>
    </tr>

    </table>
    {% if voting_allowed %}
    <section>
    <span>{{ helpful_votes }}</span>
    <a href="{% url 'review_vote' that_one_Review.id 'helpful' %}">
        <button type="button" class="btn btn-transparent">
            <i style="color: #CC3434; font-size: 30px;" class="fa fa-thumbs-up"></i>
        </button>
    </a>
    <span>{{ not_helpful_votes }}</span>
    <a href="{% url 'review_vote' that_one_Review.id 'not_helpful' %}">
        <button type="button" class="btn btn-transparent" >
            <i style="color: #CC3434; font-size: 30px;" class="fa fa-thumbs-down"></i>
        </button>
    </a>
    </section>
    {% endif %}

    {% if delete_review_allowed %}
    <div>
        <button style="color: white;" type="button" class="btn btn-danger" data-toggle="modal" data-target="#DeleteModal">
            Review löschen
        </button>
    
        
        <a href="{% url 'review_edit' that_one_Review.id %}">
            <button style="color: white;" type="button" class="btn btn-secondary">
                Review bearbeiten
            </button>
        </a>
    </div>
    
    {% endif %}
    </div>
    
    
    
{% endblock %}